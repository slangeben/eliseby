<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CLICK for press files!</title>
<style>
  body { 
    font-family: "Times New Roman", serif; 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    height: 100vh; 
    background: white; 
    color: blue; 
    overflow: hidden;
    position: relative;
  }

  #login, #content { 
    display: none; 
    flex-direction: column; 
    align-items: center; 
    position: relative; 
    z-index: 1;
    text-align: center;
    background-color: white;
  }

  input { 
  padding: 8px; 
  margin: 16px 0; 
  font-family: "Times New Roman", serif;
  font-size: 1rem; 
  text-align: center;
  z-index: 105;


  border: 2px solid blue;   
  border-radius: 4px;        
  background-color: white; 
  opacity: 1;
  color: blue;              
}
input::placeholder {
  color: blue;
  opacity: 0.5;
  z-index: 5;
}

  button { 
    padding: 8px 16px; 
    cursor: pointer; 
    font-family: "Times New Roman", serif;
    font-size: 30px;
    text-decoration: underline;
    background: white;
    border: 0;
    color: blue; 
    z-index: 5;
  }

  ul { 
    list-style: none; 
    padding: 0; 
  }

  a { 
    color: blue; 
    text-decoration: underline; 
    font-family: "Times New Roman", serif;
  }

  a:hover { 
    color: red; 
  }


  .click-phrase {
  position: absolute;
  font-family: "Times New Roman", serif;
  font-size: 16px;
  color: #0000ff;
  text-decoration: underline;
  pointer-events: none;
  user-select: none;
  animation: drift 10s linear infinite;
  z-index: 1;
  white-space: nowrap;
}

  @keyframes drift {
    0% { transform: translateX(0px) translateY(0px) rotate(0deg); }
    50% { transform: translateX(50px) translateY(-10px) rotate(10deg); }
    100% { transform: translateX(0px) translateY(0px) rotate(0deg); }
  }
</style>
</head>
<body>

<div id="login">
  <!--<h2>enter password</h2> -->
  <input type="password" id="password" placeholder="password">
  <button onclick="checkPassword()">CLICK to enter!</button>
  <p id="error" style="color:hotpink; display:none;">incorrect password</p>
</div>

<div id="content">
  <h2>links</h2>
  <ul id="fileList"></ul>
</div>

<script>
const passwordHash = '1d8858c892ee8dc6c396fea602b4833adb599478c2050ff3e17ff602b192f105';
const files = [
  { name: "dropbox", url: "file1.ext" },
  { name: "google drive", url: "file2.ext" }
];

// floating phrases
const phrases = [
  "CLICK to claim!",
  "CLICK to recieve!",
  "CLICK to understand!",
  "CLICK to be saved!",
  "CLICK to forgive!",
  "CLICK to be pure!",
  "CLICK to be loved!",
  "CLICK to find hope!",
  "CLICK to begin again!",
  "CLICK to see the future!"
];

function createFloatingPhrase() {
  const phrase = document.createElement('div');
  phrase.classList.add('click-phrase');
  phrase.textContent = phrases[Math.floor(Math.random() * phrases.length)];
  document.body.appendChild(phrase);

  const phraseRect = phrase.getBoundingClientRect();
  let left, top, attempts = 0;

  // bigger padding for mobile
  const padding = window.innerWidth < 500 ? 40 : 20;

  // safe zone around login
  const loginBox = document.getElementById('login').getBoundingClientRect();
  const safeZone = {
    top: loginBox.top - padding,
    left: loginBox.left - padding,
    right: loginBox.right + padding,
    bottom: loginBox.bottom + padding
  };

  function overlapsExisting(l, t, rect) {
    return Array.from(document.getElementsByClassName('click-phrase')).some(el => {
      const r = el.getBoundingClientRect();
      return !(
        l + rect.width < r.left - padding ||
        l > r.right + padding ||
        t + rect.height < r.top - padding ||
        t > r.bottom + padding
      );
    });
  }

  do {
    left = Math.random() * (window.innerWidth - phraseRect.width);
    top = Math.random() * (window.innerHeight - phraseRect.height);
    attempts++;
  } while (
    (
      left + phraseRect.width > safeZone.left &&
      left < safeZone.right &&
      top + phraseRect.height > safeZone.top &&
      top < safeZone.bottom
    ) || overlapsExisting(left, top, phraseRect)
    && attempts < 200
  );

  phrase.style.left = left + "px";
  phrase.style.top = top + "px";
  phrase.style.fontSize = 12 + Math.random() * 20 + "px";

  // remove after 10s
  setTimeout(() => phrase.remove(), 10000);
}

// spawn phrases slower on mobile
const phraseInterval = setInterval(createFloatingPhrase, window.innerWidth < 500 ? 1000 : 500);



// show login box
document.getElementById('login').style.display = 'flex';

// password check
async function checkPassword() {
  const input = document.getElementById('password').value;
  const hashBuffer = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(input));
  const hashArray = Array.from(new Uint8Array(hashBuffer));
  const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');

  if (hashHex === passwordHash) {
    // hide login & phrases
    document.getElementById('login').style.display = 'none';
    document.getElementById('content').style.display = 'flex';
    clearInterval(phraseInterval);
    document.querySelectorAll('.click-phrase').forEach(p => p.remove());

    // populate files
    const ul = document.getElementById('fileList');
    files.forEach(file => {
      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = file.url;
      a.download = file.url;
      a.textContent = file.name;
      li.appendChild(a);
      ul.appendChild(li);
    });
  } else {
    document.getElementById('error').style.display = 'block';
  }
}
</script>

</body>
</html>

